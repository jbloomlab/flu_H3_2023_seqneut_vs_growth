# Protein sequences in the library. Note that this file currently has
# the full chimeric HAs used in the sequencing-based neutralization assay,
# which have non-native signal peptide and endodomain.
strain_prots: data/H3_library_constructs_protein.fasta

# Specify protein sequences to search for matches to `strain_prots` to get the
# counts of each strain (variant) at each time.
# The `trim` entry below specifies to trim the `strain_prots` to that range, and
# then look for matches that contain that trimeed strain protein.
# This can be done to just look at a specific region (eg, ectodomain or HA1).
# Also keep in mind the strains in the libraries are engineered to havae a chimeric
# signal peptide and endodomain so you probably do not want to require a match to
# that. The trimming is done to indicated range (1, 2, ... numbering, inclusive).
protsets:
  ncbi-ectodomain:
    protset: data/ncbi_flu_h3_prots.fa
    trim: [20, 533]
  gisaid-ectodomain:
    protset: data/gisaid_flu_h3_prots.fa
    trim: [20, 533]
  ncbi-ha1:
    protset: data/ncbi_flu_h3_prots.fa
    trim: [20, 348]
  gisaid-ha1:
    protset: data/gisaid_flu_h3_prots.fa
    trim: [20, 348]

# Maximum number of difference between strain and protein in set allowed
# to still call it a match. A protein in a `protset` is a match if it
# has <= this many differences to the strain. Note that when the number
# of allowed differences is >1, in principle the same protein can match
# multiple strains. A difference is any of a single-amino-acid substitution,
# insertion, or deletion.
protset_maxdiffs: [0, 1]

# For MLR, only include strains with at least this many counts over the
# entire window
min_counts: 50

# For counts chart associated with MLR, plot counts as a rolling mean +/ this many days
plot_window_frame_days: 14
